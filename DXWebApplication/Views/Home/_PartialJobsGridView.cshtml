@model List<DXWebApplication.Models.JOB_JOBS>

@using System.Web.UI.WebControls;

@Html.DevExpress().GridView(settings =>
{
    settings.Name = "jobsGridView";
    settings.CallbackRouteValues = new { Controller = "Home", Action = "PartialJobsGridView" };

    settings.SettingsEditing.AddNewRowRouteValues = new { Controller = "Home", Action = "PartialJobsGridViewAddNew" };
    settings.SettingsEditing.UpdateRowRouteValues = new { Controller = "Home", Action = "PartialJobsGridViewEdit" };
    settings.SettingsEditing.DeleteRowRouteValues = new { Controller = "Home", Action = "PartialJobsGridViewDelete" };

    settings.SettingsEditing.Mode = GridViewEditingMode.PopupEditForm;
    settings.SettingsBehavior.ConfirmDelete = true;
    settings.SettingsPopup.EditForm.HorizontalAlign = PopupHorizontalAlign.Center;
    settings.SettingsPopup.EditForm.Width = 600;
    settings.Width = Unit.Percentage(100);

    settings.SettingsPopup.EditForm.SettingsAdaptivity.Mode = PopupControlAdaptivityMode.OnWindowInnerWidth;
    settings.SettingsPopup.EditForm.SettingsAdaptivity.SwitchAtWindowInnerWidth = 768;
    settings.EditFormLayoutProperties.SettingsAdaptivity.AdaptivityMode = FormLayoutAdaptivityMode.SingleColumnWindowLimit;
    settings.EditFormLayoutProperties.SettingsAdaptivity.SwitchToSingleColumnAtWindowInnerWidth = 700;
    settings.EditFormLayoutProperties.SettingsItems.VerticalAlign = FormLayoutVerticalAlign.Middle;


    settings.Settings.ShowFilterRow = true;

    settings.KeyFieldName = "JOB_ID";
    settings.CommandColumn.Visible = true;
    settings.CommandColumn.ShowNewButtonInHeader = true;
    settings.CommandColumn.ShowDeleteButton = true;
    settings.CommandColumn.ShowEditButton = true;
    settings.SettingsBehavior.AllowFocusedRow = true;

    settings.ClientSideEvents.BeginCallback = "OnBeginCallback";

    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_Name";
        c.Caption = "Name1";
    });


    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_Name2";
        c.Caption = "Name2";
    });


    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_Shortcut";
        c.Caption = "Job Shortcut";
    });


    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_Number";
        c.Caption = "Job Number";
    });

    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_Gender";
        c.Caption = "Gender";
        c.EditorProperties().ComboBox(p => {
            p.TextField = "key";
            p.ValueField = "value";
            p.ValueType = typeof(int);
            p.DataSource = DXWebApplication.Models.GenderCollection.Gender;

        });
    });


    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_EntryDate";
        c.Caption = "Entry Date";
    });

    settings.Columns.Add(c =>
    {
        c.FieldName = "JOB_UpdateDate";
        c.Caption = "Update Date";
    });


    settings.SetEditFormTemplateContent(c =>
    {
        Html.RenderPartial("_PartialjobsEditForm");

    });

}).Bind(Model).GetHtml()



